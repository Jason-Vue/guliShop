"use strict";(self["webpackChunkmy_gulishop"]=self["webpackChunkmy_gulishop"]||[]).push([[36],{37036:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"register"},[e._m(0),t("el-form",{ref:"registerForm",staticClass:"demo-ruleForm",attrs:{model:e.registerForm,rules:e.registerRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.registerForm.phone,callback:function(r){e.$set(e.registerForm,"phone",r)},expression:"registerForm.phone"}})],1),t("el-form-item",{attrs:{label:"验证码",prop:"PhoneCode"}},[t("el-input",{staticStyle:{width:"200px"},model:{value:e.registerForm.PhoneCode,callback:function(r){e.$set(e.registerForm,"PhoneCode",r)},expression:"registerForm.PhoneCode"}}),t("el-button",{attrs:{type:"success"},on:{click:e.getPhoneCode}},[e._v("获取验证码")])],1),t("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[t("el-input",{model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),t("el-form-item",{attrs:{label:"确认密码",prop:"password1"}},[t("el-input",{model:{value:e.registerForm.password1,callback:function(r){e.$set(e.registerForm,"password1",r)},expression:"registerForm.password1"}})],1),t("el-form-item",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.agree,expression:"registerForm.agree"}],attrs:{name:"m1",type:"checkbox"},domProps:{checked:Array.isArray(e.registerForm.agree)?e._i(e.registerForm.agree,null)>-1:e.registerForm.agree},on:{change:function(r){var t=e.registerForm.agree,s=r.target,o=!!s.checked;if(Array.isArray(t)){var i=null,a=e._i(t,i);s.checked?a<0&&e.$set(e.registerForm,"agree",t.concat([i])):a>-1&&e.$set(e.registerForm,"agree",t.slice(0,a).concat(t.slice(a+1)))}else e.$set(e.registerForm,"agree",o)}}}),t("span",[e._v("同意协议并注册《尚品汇用户协议》")]),t("span",{staticClass:"error-msg"},[e._v("错误提示信息")])]),t("el-form-item",[t("el-button",{attrs:{type:"danger"},on:{click:e.finishRegister}},[e._v("完成注册")])],1)],1)],1),e._m(1)])},o=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("h3",[e._v("注册新用户 "),t("span",{staticClass:"go"},[e._v("我有账号，去 "),t("a",{attrs:{href:"login.html",target:"_blank"}},[e._v("登陆")])])])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"copyright"},[t("ul",[t("li",[e._v("关于我们")]),t("li",[e._v("联系我们")]),t("li",[e._v("联系客服")]),t("li",[e._v("商家入驻")]),t("li",[e._v("营销中心")]),t("li",[e._v("手机尚品汇")]),t("li",[e._v("销售联盟")]),t("li",[e._v("尚品汇社区")])]),t("div",{staticClass:"address"},[e._v("地址：北京市昌平区宏福科技园综合楼6层")]),t("div",{staticClass:"beian"},[e._v("京ICP备19006430号 ")])])}],i=t(48534),a=(t(36133),t(74916),t(77601),t(21703),{data:function(){var e=this,r=function(e,r,t){var s=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;s.test(r)?t():t("手机号码格式不对")},t=function(r,t,s){""==t?s(new Error("请输入密码")):(""!==e.registerForm.password&&e.$refs.registerForm.validateField("checkPassword"),s())},s=function(r,t,s){""==t?s(new Error("请再次输入密码")):t!=e.registerForm.password?s(new Error("两次输入的密码不一致")):s()};return{registerForm:{phone:"",PhoneCode:"",password:"",password1:"",agree:!0},registerRules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:r,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6到 15个字符",trigger:"blur"},{validator:t,trigger:"blur"}],password1:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:s,trigger:"blur"}]}}},methods:{getPhoneCode:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t=e.registerForm.phone,r.prev=1,r.t0=t,!r.t0){r.next=6;break}return r.next=6,e.$store.dispatch("getPhoneCode",t);case 6:e.registerForm.PhoneCode=e.$store.state.UserAbout.code,r.next=12;break;case 9:r.prev=9,r.t1=r["catch"](1),alert(r.t1.message);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()},finishRegister:function(){var e=this,r=this.registerForm,t=r.phone,s=r.PhoneCode,o=r.password;r.password1;this.$refs.registerForm.validate(function(){var r=(0,i.Z)(regeneratorRuntime.mark((function r(i){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!i){r.next=12;break}return console.log(i),r.prev=2,r.next=5,e.$store.dispatch("finishRegister",{phone:t,password:o,code:s});case 5:a=r.sent,"用户注册成功"==a&&e.$router.push("/login"),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](2),alert(r.t0.message);case 12:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}())}},created:function(){},mounted:function(){}}),n=a,l=t(43736),c=(0,l.Z)(n,s,o,!1,null,"02b9d657",null),u=c.exports}}]);
//# sourceMappingURL=36-legacy.ce053953.js.map