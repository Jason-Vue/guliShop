"use strict";(self["webpackChunkmy_gulishop"]=self["webpackChunkmy_gulishop"]||[]).push([[36],{7036:function(e,r,s){s.r(r),s.d(r,{default:function(){return g}});var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("div",{staticClass:"register"},[e._m(0),s("el-form",{ref:"registerForm",staticClass:"demo-ruleForm",attrs:{model:e.registerForm,rules:e.registerRules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[s("el-input",{model:{value:e.registerForm.phone,callback:function(r){e.$set(e.registerForm,"phone",r)},expression:"registerForm.phone"}})],1),s("el-form-item",{attrs:{label:"验证码",prop:"PhoneCode"}},[s("el-input",{staticStyle:{width:"200px"},model:{value:e.registerForm.PhoneCode,callback:function(r){e.$set(e.registerForm,"PhoneCode",r)},expression:"registerForm.PhoneCode"}}),s("el-button",{attrs:{type:"success"},on:{click:e.getPhoneCode}},[e._v("获取验证码")])],1),s("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[s("el-input",{model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"password1"}},[s("el-input",{model:{value:e.registerForm.password1,callback:function(r){e.$set(e.registerForm,"password1",r)},expression:"registerForm.password1"}})],1),s("el-form-item",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.agree,expression:"registerForm.agree"}],attrs:{name:"m1",type:"checkbox"},domProps:{checked:Array.isArray(e.registerForm.agree)?e._i(e.registerForm.agree,null)>-1:e.registerForm.agree},on:{change:function(r){var s=e.registerForm.agree,t=r.target,o=!!t.checked;if(Array.isArray(s)){var i=null,a=e._i(s,i);t.checked?a<0&&e.$set(e.registerForm,"agree",s.concat([i])):a>-1&&e.$set(e.registerForm,"agree",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.registerForm,"agree",o)}}}),s("span",[e._v("同意协议并注册《尚品汇用户协议》")]),s("span",{staticClass:"error-msg"},[e._v("错误提示信息")])]),s("el-form-item",[s("el-button",{attrs:{type:"danger"},on:{click:e.finishRegister}},[e._v("完成注册")])],1)],1)],1),e._m(1)])},o=[function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("h3",[e._v("注册新用户 "),s("span",{staticClass:"go"},[e._v("我有账号，去 "),s("a",{attrs:{href:"login.html",target:"_blank"}},[e._v("登陆")])])])},function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"copyright"},[s("ul",[s("li",[e._v("关于我们")]),s("li",[e._v("联系我们")]),s("li",[e._v("联系客服")]),s("li",[e._v("商家入驻")]),s("li",[e._v("营销中心")]),s("li",[e._v("手机尚品汇")]),s("li",[e._v("销售联盟")]),s("li",[e._v("尚品汇社区")])]),s("div",{staticClass:"address"},[e._v("地址：北京市昌平区宏福科技园综合楼6层")]),s("div",{staticClass:"beian"},[e._v("京ICP备19006430号 ")])])}],i=(s(1703),{data(){let e=(e,r,s)=>{const t=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;t.test(r)?s():s("手机号码格式不对")},r=(e,r,s)=>{""==r?s(new Error("请输入密码")):(""!==this.registerForm.password&&this.$refs.registerForm.validateField("checkPassword"),s())},s=(e,r,s)=>{""==r?s(new Error("请再次输入密码")):r!=this.registerForm.password?s(new Error("两次输入的密码不一致")):s()};return{registerForm:{phone:"",PhoneCode:"",password:"",password1:"",agree:!0},registerRules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:e,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6到 15个字符",trigger:"blur"},{validator:r,trigger:"blur"}],password1:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:s,trigger:"blur"}]}}},methods:{async getPhoneCode(){const{phone:e}=this.registerForm;try{e&&await this.$store.dispatch("getPhoneCode",e),this.registerForm.PhoneCode=this.$store.state.UserAbout.code}catch(r){alert(r.message)}},finishRegister(){const{phone:e,PhoneCode:r,password:s,password1:t}=this.registerForm;this.$refs.registerForm.validate((async t=>{if(t){console.log(t);try{let t=await this.$store.dispatch("finishRegister",{phone:e,password:s,code:r});"用户注册成功"==t&&this.$router.push("/login")}catch(o){alert(o.message)}}}))}},created(){},mounted(){}}),a=i,l=s(3736),n=(0,l.Z)(a,t,o,!1,null,"02b9d657",null),g=n.exports}}]);
//# sourceMappingURL=36.4a19a8c6.js.map